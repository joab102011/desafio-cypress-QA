#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Executando validaÃ§Ãµes antes do push..."
echo ""

# Executar lint
echo "ğŸ“ Verificando cÃ³digo com ESLint..."
npm run lint || {
  echo "âŒ Erros de lint encontrados. Execute 'npm run lint:fix' para corrigir."
  exit 1
}

# Verificar formataÃ§Ã£o
echo "âœ¨ Verificando formataÃ§Ã£o com Prettier..."
npm run format:check || {
  echo "âŒ Erros de formataÃ§Ã£o encontrados. Execute 'npm run format' para corrigir."
  exit 1
}

# Executar testes crÃ­ticos
echo "ğŸ§ª Executando testes crÃ­ticos..."
npm run test:critical || {
  echo "âŒ Testes crÃ­ticos falharam. Corrija os problemas antes de fazer push."
  exit 1
}

echo ""
echo "âœ… Todas as validaÃ§Ãµes passaram! Prosseguindo com o push..."

